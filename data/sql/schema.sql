CREATE TABLE album (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL UNIQUE, image VARCHAR(255), year INT, is_activated TINYINT(1) DEFAULT '0' NOT NULL, is_va TINYINT(1) DEFAULT '0' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE artist (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, url VARCHAR(255), image VARCHAR(255), is_activated TINYINT(1) DEFAULT '0' NOT NULL, country_id BIGINT UNIQUE NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX country_id_idx (country_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE country (id BIGINT UNIQUE AUTO_INCREMENT, iso VARCHAR(2) NOT NULL UNIQUE, name VARCHAR(255) NOT NULL UNIQUE, printable_name VARCHAR(255) NOT NULL UNIQUE, iso3 VARCHAR(3) NOT NULL UNIQUE, numcode MEDIUMINT UNIQUE NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE track (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL UNIQUE, number VARCHAR(255) NOT NULL, artist_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX artist_id_idx (artist_id), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE artist ADD CONSTRAINT artist_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id);
ALTER TABLE track ADD CONSTRAINT track_artist_id_artist_id FOREIGN KEY (artist_id) REFERENCES artist(id);
