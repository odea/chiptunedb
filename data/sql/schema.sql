CREATE TABLE album (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL UNIQUE, image VARCHAR(255), year INT, dl_url VARCHAR(255), is_activated TINYINT(1) DEFAULT '0' NOT NULL, is_va TINYINT(1) DEFAULT '0' NOT NULL, label_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX label_id_idx (label_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE artist (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, alias VARCHAR(255), url VARCHAR(255), image VARCHAR(255), is_activated TINYINT(1) DEFAULT '0' NOT NULL, country_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX country_id_idx (country_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE country (id BIGINT AUTO_INCREMENT, iso VARCHAR(2) NOT NULL UNIQUE, name VARCHAR(255) NOT NULL UNIQUE, printable_name VARCHAR(255) NOT NULL UNIQUE, iso3 VARCHAR(3) NOT NULL UNIQUE, numcode MEDIUMINT UNIQUE NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE label (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, logo VARCHAR(255), url VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE track (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL UNIQUE, number VARCHAR(255) NOT NULL, artist_id BIGINT NOT NULL, album_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX artist_id_idx (artist_id), INDEX album_id_idx (album_id), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE album ADD CONSTRAINT album_label_id_label_id FOREIGN KEY (label_id) REFERENCES label(id);
ALTER TABLE artist ADD CONSTRAINT artist_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id);
ALTER TABLE track ADD CONSTRAINT track_artist_id_artist_id FOREIGN KEY (artist_id) REFERENCES artist(id);
ALTER TABLE track ADD CONSTRAINT track_album_id_album_id FOREIGN KEY (album_id) REFERENCES album(id);
